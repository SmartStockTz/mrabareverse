import { DefaultHttpClientFactory } from "./default-http-client.factory";
export function httpAdapter(config, appName) {
    var _a, _b, _c, _d;
    const adapters = (_a = config.credential(appName)) === null || _a === void 0 ? void 0 : _a.adapters;
    if (adapters && adapters.http && typeof adapters.http === "function") {
        return adapters.http();
    }
    else if (adapters && adapters.http
        && typeof adapters.http === 'string'
        && config.credential(adapters.http)
        && config.credential(adapters.http).adapters
        && ((_b = config.credential(adapters.http).adapters) === null || _b === void 0 ? void 0 : _b.http)
        && typeof ((_c = config.credential(adapters.http).adapters) === null || _c === void 0 ? void 0 : _c.http) === "function") {
        const _adapters = (_d = config.credential(adapters.http)) === null || _d === void 0 ? void 0 : _d.adapters;
        // @ts-ignore
        return _adapters.http();
    }
    else {
        return new DefaultHttpClientFactory();
    }
}
